{% extends 'Home.html' %}
{% from "_macro.html" import render_field %}
{% block content %}
<div class="container">
	<div class="row">
		<br>
		<br>
		<div class="container justify-content-md-center" style="background:#27ecf5;">
			<h2 class="text-center" style="color: #1903fc;">Consulta General</h2>
		</div class="col-sm-12 col-s-4">
		<form class="form-horizontal" method="POST" name="consulta">
			<div>
				<input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
			</div>
			<div class="form-goup col-xs-12 floating-label-form-group controls">
				{{ form.bProv }}
                {{ render_field(form.sProv, class='form-control') }}
                <p class="help-block text-danger"></p>
            </div>
            <div class="form-goup col-xs-12 floating-label-form-group controls">
            	{{ form.bFecha }}
                {{ render_field(form.sFechaI, class='form-control', placeholder="DD/MM/YYYY") }}
                <p class="help-block text-danger"></p>
                {{ render_field(form.sFechaF, class='form-control', placeholder="DD/MM/YYYY") }}
                <p class="help-block text-danger"></p>
            </div>
            <div class="form-goup col-xs-12 floating-label-form-group controls">
            	{{ form.bPlaca }}
                {{ render_field(form.qPlaca, class='form-control', placeholder="DD/MM/YYYY") }}
                <p class="help-block text-danger"></p>
            </div>
             <div class="form-group mx-sm-3 mb-2 form-inline">
            	<button type="submit" class="btn btn-outline-primary d-flex align-items-center" id="consultar" name="consultar" value="consultar">Consultar</button>
            	<div class="mx-sm-3 mb-2">
            	</div>
            	<button type="reset" class="btn btn-outline-warning d-flex align-items-center" id="agregar" name="agregar" value="limpiar">Limpiar campos</button>
            </div>
		</form>
	</div>
</div>
{% if lista %}
<div class="container">
	<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
   		mostrar consulta
  	</button>
  	
	<div class="modal fade" id="myModal">
		<br>
  	<br>
  	<br>
		
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">{{titulo}}</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
        <div class="table-responsive table-responsive-sm">
         <table class="table table-striped table-hover">
         	<caption>Consulta por Proveedor</caption>
         	<thead>
         		<tr class="table-success">
         			<th>#</th>
         			<th>UUiD</th>
         			<th>RFC</th>
         			<th>Nombre</th>
         			<th>Subtotal</th>
         			<th>IVA</th>
         			<th>Total</th>
         			<th>Fecha</th>
         			<th>Placa</th>
         			<th>Observaciones</th>
         		</tr>
         	</thead>
         	<tbody>
         		{% for item in lista%}
         		<tr class="table-info">
         			<td>{{item.id}}</td>
         			<td>{{item.UUiD}}</td>
         			<td>{{item.rfc}}</td>
         			<td>{{item.nombre}}</td>
         			<td>{{item.subtotal}}</td>
         			<td>{{item.iva}}</td>
         			<td>{{item.total}}</td>
         			<td>{{item.fecha}}</td>
         			<td>{{item.placas}}</td>
         			<td>{{item.observaciones}}</td>
         		</tr>
         		{% endfor %}
         	</tbody>
         </table>
     </div>
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
        
      </div>
    </div>
  </div>
</div>
{%elif lista2 %}
<div class="container">
	<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">mostrar consulta</button>
	<div class="modal fade" id="myModal">
		<br>
  		<br>
  		<br>	
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">{{titulo}}</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
        <div class="table-responsive table-responsive-sm">
         <table class="table table-striped table-hover">
         	<caption>Consulta por {{tipo}}</caption>
         	<thead>
         		<tr class="table-success">
         			<th>#</th>
         			<th>UUiD</th>
         			<th>RFC</th>
         			<th>Nombre</th>
         			<th>Subtotal</th>
         			<th>IVA</th>
         			<th>Total</th>
         			<th>Fecha</th>
         			<th>Placa</th>
         			<th>Observaciones</th>
         		</tr>
         	</thead>
         	<tbody>
         		{% for item in lista2%}
         		<tr class="table-info">
         			<td>{{item.id}}</td>
         			<td>{{item.UUiD}}</td>
         			<td>{{item.rfc}}</td>
         			<td>{{item.nombre}}</td>
         			<td>{{item.subtotal}}</td>
         			<td>{{item.iva}}</td>
         			<td>{{item.total}}</td>
         			<td>{{item.fecha}}</td>
         			<td>{{item.placas}}</td>
         			<td>{{item.observaciones}}</td>
         		</tr>
         		{% endfor %}
         	</tbody>
         </table>
     </div>
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
        
      </div>
    </div>
  </div>
</div>
{%elif lista3 %}
<div class="container">
	<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">mostrar consulta</button>
	<div class="modal fade" id="myModal">
		<br>
  		<br>
  		<br>	
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">{{titulo}}</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
        <div class="table-responsive table-responsive-sm">
         <table class="table table-striped table-hover">
         	<caption>Consulta por {{tipo}}</caption>
         	<thead>
         		<tr class="table-success">
         			<th>#</th>
         			<th>UUiD</th>
         			<th>RFC</th>
         			<th>Nombre</th>
         			<th>Subtotal</th>
         			<th>IVA</th>
         			<th>Total</th>
         			<th>Fecha</th>
         			<th>Placa</th>
         			<th>Observaciones</th>
         		</tr>
         	</thead>
         	<tbody>
         		{% for item in lista3%}
         		<tr class="table-info">
         			<td>{{item.id}}</td>
         			<td>{{item.UUiD}}</td>
         			<td>{{item.rfc}}</td>
         			<td>{{item.nombre}}</td>
         			<td>{{item.subtotal}}</td>
         			<td>{{item.iva}}</td>
         			<td>{{item.total}}</td>
         			<td>{{item.fecha}}</td>
         			<td>{{item.placas}}</td>
         			<td>{{item.observaciones}}</td>
         		</tr>
         		{% endfor %}
         	</tbody>
         </table>
     </div>
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
        
      </div>
    </div>
  </div>
</div>
{%elif lista4 %}
<div class="container">
	<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">mostrar consulta</button>
	<div class="modal fade" id="myModal">
		<br>
  		<br>
  		<br>	
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">{{titulo}}</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
        <div class="table-responsive table-responsive-sm">
         <table class="table table-striped table-hover">
         	<caption>Consulta por {{tipo}}</caption>
         	<thead>
         		<tr class="table-success">
         			<th>#</th>
         			<th>UUiD</th>
         			<th>RFC</th>
         			<th>Nombre</th>
         			<th>Subtotal</th>
         			<th>IVA</th>
         			<th>Total</th>
         			<th>Fecha</th>
         			<th>Placa</th>
         			<th>Observaciones</th>
         		</tr>
         	</thead>
         	<tbody>
         		{% for item in lista4%}
         		<tr class="table-info">
         			<td>{{item.id}}</td>
         			<td>{{item.UUiD}}</td>
         			<td>{{item.rfc}}</td>
         			<td>{{item.nombre}}</td>
         			<td>{{item.subtotal}}</td>
         			<td>{{item.iva}}</td>
         			<td>{{item.total}}</td>
         			<td>{{item.fecha}}</td>
         			<td>{{item.placas}}</td>
         			<td>{{item.observaciones}}</td>
         		</tr>
         		{% endfor %}
         	</tbody>
         </table>
     </div>
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
        
      </div>
    </div>
  </div>
</div>
{%elif lista5 %}
<div class="container">
	<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">mostrar consulta</button>
	<div class="modal fade" id="myModal">
		<br>
  		<br>
  		<br>	
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">{{titulo}}</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">
        <div class="table-responsive table-responsive-sm">
         <table class="table table-striped table-hover">
         	<caption>Consulta por {{tipo}}</caption>
         	<thead>
         		<tr class="table-success">
         			<th>#</th>
         			<th>UUiD</th>
         			<th>RFC</th>
         			<th>Nombre</th>
         			<th>Subtotal</th>
         			<th>IVA</th>
         			<th>Total</th>
         			<th>Fecha</th>
         			<th>Placa</th>
         			<th>Observaciones</th>
         		</tr>
         	</thead>
         	<tbody>
         		{% for item in lista5%}
         		<tr class="table-info">
         			<td>{{item.id}}</td>
         			<td>{{item.UUiD}}</td>
         			<td>{{item.rfc}}</td>
         			<td>{{item.nombre}}</td>
         			<td>{{item.subtotal}}</td>
         			<td>{{item.iva}}</td>
         			<td>{{item.total}}</td>
         			<td>{{item.fecha}}</td>
         			<td>{{item.placas}}</td>
         			<td>{{item.observaciones}}</td>
         		</tr>
         		{% endfor %}
         	</tbody>
         </table>
     </div>
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
        
      </div>
    </div>
  </div>
</div>
{% endif%}
<script>
	function DesactivarFolio() {
    		document.getElementById("sProv").disabled = !document.getElementById("bProv").checked;
		}
		function DesactivarFechas() {
    		document.getElementById("sFechaI").disabled = !document.getElementById("bFecha").checked;
    		document.getElementById("sFechaF").disabled = !document.getElementById("bFecha").checked;
		}
		function DesactivarPlaca() {
    		document.getElementById("qPlaca").disabled = !document.getElementById("bPlaca").checked;
		};

	//desactivo los campos select y fecha	
	document.getElementById("sProv").disabled=true;
	document.getElementById("sFechaI").disabled =true;
	document.getElementById("sFechaF").disabled = true;
	document.getElementById("qPlaca").disabled = true;

	// le pongo la funcion descativar a los checkbox'es como atributo Onclick
	var bProv = document.getElementById("bProv");
	bProv.setAttribute("onclick","DesactivarFolio();");
	var bFecha = document.getElementById("bFecha");
	bFecha.setAttribute("onclick", "DesactivarFechas();");
	var bPlaca = document.getElementById("bPlaca");
	bPlaca.setAttribute("onclick", "DesactivarPlaca();");
</script>
{% endblock %}